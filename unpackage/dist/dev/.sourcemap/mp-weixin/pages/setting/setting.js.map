{"version":3,"sources":["webpack:///C:/Users/bear/Desktop/fancounter/main.js","webpack:///C:/Users/bear/Desktop/fancounter/pages/setting/setting.vue?0a18","webpack:///C:/Users/bear/Desktop/fancounter/pages/setting/setting.vue?61c6","webpack:///C:/Users/bear/Desktop/fancounter/pages/setting/setting.vue?ad9a","webpack:///C:/Users/bear/Desktop/fancounter/pages/setting/setting.vue?4bbf","webpack:///C:/Users/bear/Desktop/fancounter/pages/setting/setting.vue","webpack:///C:/Users/bear/Desktop/fancounter/pages/setting/setting.vue?f5c1","webpack:///C:/Users/bear/Desktop/fancounter/pages/setting/setting.vue?6a42"],"names":["createPage","Page","data","battery","deviceId","mainUUID","writeUUID","notifyUUID","readUUID","bluetoothConnected","wifiSSID","wifiPWD","bilibiliId","headPic","youtubeKey","workTypes","value","name","workType","haveNewVersion","onLoad","that","wx","startWifi","success","res","console","info","getConnectedWifi","complete","log","errCode","wifi","SSID","onShow","onHide","methods","connectBle","setTimeout","btconnected","uni","hideLoading","closeBluetooth","closeBLEConnection","closeBluetoothAdapter","connectBluetooth","platform","getStorageSync","version","openBluetoothAdapter","doConnect","fail","showModal","title","content","showCancel","mask","confirm","e","error","reLaunch","url","searchTimeoutId","stopBluetoothDevicesDiscovery","startBluetoothDevicesDiscovery","services","createBLEConnection","getBLEDeviceServices","getBLEDeviceCharacteristics","serviceId","workTypeChange","detail","save","computed","btnmessage"],"mappings":"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","file":"pages/setting/setting.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/setting/setting.vue'\ncreatePage(Page)","import { render, staticRenderFns } from \"./setting.vue?vue&type=template&id=7b9fcece&\"\nimport script from \"./setting.vue?vue&type=script&lang=js&\"\nexport * from \"./setting.vue?vue&type=script&lang=js&\"\nimport style0 from \"./setting.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\Users\\\\bear\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('7b9fcece', component.options)\n    } else {\n      api.reload('7b9fcece', component.options)\n    }\n    module.hot.accept(\"./setting.vue?vue&type=template&id=7b9fcece&\", function () {\n      api.rerender('7b9fcece', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"fancounter/pages/setting/setting.vue\"\nexport default component.exports","export * from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-hbuilderx/packages/webpack-uni-nvue-loader/lib/templateLoader.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./setting.vue?vue&type=template&id=7b9fcece&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./setting.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./setting.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n\n\tdata() {\n\t\treturn {\n\t\t\t//电池电量\n\t\t\tbattery: 50,\n\t\t\tdeviceId: '',\n\t\t\tmainUUID: '',\n\t\t\twriteUUID: '',\n\t\t\tnotifyUUID: '',\n\t\t\treadUUID: '',\n\t\t\tbluetoothConnected: true,\n\t\t\t//wifissid\n\t\t\twifiSSID: '',\n\t\t\t//wifi密码\n\t\t\twifiPWD: '',\n\t\t\t//bilibili用户id\n\t\t\tbilibiliId: '',\n\t\t\theadPic: '',\n\t\t\t//youtube的key\n\t\t\tyoutubeKey: '',\n\t\t\tworkTypes: [{\n\t\t\t\t\tvalue: 1,\n\t\t\t\t\tname: '粉丝计数器'\n\t\t\t\t}, {\n\t\t\t\t\tvalue: 2,\n\t\t\t\t\tname: '天气预报'\n\t\t\t\t},\n\n\t\t\t],\n\t\t\t//计数器工作模式，1为粉丝计数器，2为天气预报\n\t\t\tworkType: 1,\n\t\t\t//是否有新版本固件\n\t\t\thaveNewVersion: true\n\t\t}\n\t},\n\tonLoad() {\n\t\t//加载时，获取手机已经连接的wifi\n\t\tvar that = this\n\n\t\twx.startWifi({\n\t\t\tsuccess(res) {\n\t\t\t\tconsole.info('开启wifi模块成功')\n\t\t\t\twx.getConnectedWifi({\n\t\t\t\t\tcomplete(res) {\n\t\t\t\t\t\tconsole.log(res)\n\t\t\t\t\t\t//如果wifi连接上\n\t\t\t\t\t\tif (res.errCode == 0) {\n\t\t\t\t\t\t\tthat.wifiSSID = res.wifi.SSID\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\n\n\n\n\t},\n\tonShow() {\n\t\t//显示加载中\n\t\t// uni.showLoading({\n\t\t// \ttitle: '连接中',\n\t\t// \tmask: true\n\t\t// })\n\t\t//每次页面显示时连接蓝牙\n\t\t//this.connectBluetooth()\n\n\t},\n\tonHide() {\n\t\t//每次页面隐藏时关闭蓝牙\n\t\t//this.closeBluetooth(this.deviceId)\n\t},\n\tmethods: {\n\t\tconnectBle() {\n\t\t\tvar that = this\n\t\t\tsetTimeout(function() {\n\t\t\t\tthat.btconnected = true\n\t\t\t\tuni.hideLoading()\n\t\t\t}, 4000)\n\t\t},\n\t\t/**\n\t\t * 关闭蓝牙连接\n\t\t * @param {Object} deviceId 设备id\n\t\t */\n\t\tcloseBluetooth(deviceId) {\n\t\t\tuni.closeBLEConnection({\n\t\t\t\tdeviceId,\n\t\t\t\tsuccess(res) {\n\t\t\t\t\tconsole.info('页面隐藏，断开蓝牙成功')\n\t\t\t\t\tuni.closeBluetoothAdapter({\n\t\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\t\tconsole.info('页面隐藏关闭蓝牙适配器成功')\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\n\t\t},\n\t\t/**\n\t\t * 连接蓝牙\n\t\t */\n\t\tconnectBluetooth() {\n\t\t\tvar that = this\n\t\t\ttry {\n\t\t\t\tconst platform = uni.getStorageSync('platform');\n\t\t\t\tconst version = uni.getStorageSync('version');\n\t\t\t\tif (platform && version) {\n\t\t\t\t\tuni.openBluetoothAdapter({\n\t\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\t\t//蓝牙开关打开，直接连接蓝牙\n\t\t\t\t\t\t\tthat.doConnect(platform, version)\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfail(res) {\n\t\t\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\t\t\t//蓝牙未打开，提示用户开启手机蓝牙\n\t\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\t\ttitle: '提示',\n\t\t\t\t\t\t\t\tcontent: '使用小程序请开启手机蓝牙',\n\t\t\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\t\t\tmask: true,\n\t\t\t\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\t\t\t\tconsole.log('用户点击确定');\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tconsole.error('连接蓝牙时获取系统信息失败')\n\t\t\t\tuni.showModal({\n\t\t\t\t\ttitle: '错误',\n\t\t\t\t\tcontent: '获取小程序系统信息失败，请重试',\n\t\t\t\t\tshowCancel: false,\n\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\tuni.reLaunch({\n\t\t\t\t\t\t\t\turl: '../index/index'\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * 真实连接蓝牙方法\n\t\t */\n\t\tdoConnect(platform, version) {\n\t\t\tvar that = this\n\t\t\t//1. 开启搜索服务\n\t\t\tvar searchTimeoutId = setTimeout(function() {\n\t\t\t\tuni.hideLoading()\n\t\t\t\tuni.stopBluetoothDevicesDiscovery({\n\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\tconsole.info('蓝牙搜索超时，关闭搜索服务成功')\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\tif (that.deviceId == '') {\n\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\ttitle: '提示',\n\t\t\t\t\t\tcontent: '未搜索到设备请靠近设备后重试',\n\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\t\tuni.reLaunch({\n\t\t\t\t\t\t\t\t\turl: '../index/index'\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}, 5000)\n\n\t\t\tuni.startBluetoothDevicesDiscovery({\n\t\t\t\tservices: [that.mainUUID],\n\t\t\t\tsuccess(res) {\n\t\t\t\t\tvar deviceId = res.deviceId\n\t\t\t\t\t//搜索到设备,关闭搜索服务\n\t\t\t\t\tuni.stopBluetoothDevicesDiscovery({\n\t\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\t\tconsole.info('搜索到设备，关闭搜索服务成功')\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\tif ('android' == platform) {\n\t\t\t\t\t\t//安卓设备直接连接\n\t\t\t\t\t\tuni.createBLEConnection({\n\t\t\t\t\t\t\tdeviceId,\n\t\t\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\t\t\tconsole.info('创建蓝牙连接成功')\n\t\t\t\t\t\t\t\tthat.bluetoothConnected = true\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\t//ios设备要搜索一下特征才能使用特征\n\t\t\t\t\t\tuni.createBLEConnection({\n\t\t\t\t\t\t\tdeviceId,\n\t\t\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\t\t\tthat.bluetoothConnected = true\n\t\t\t\t\t\t\t\tconsole.info('创建蓝牙连接成功')\n\t\t\t\t\t\t\t\tuni.getBLEDeviceServices({\n\t\t\t\t\t\t\t\t\tdeviceId,\n\t\t\t\t\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\t\t\t\t\tconsole.info('ios设备搜索蓝牙服务成功', res.services)\n\t\t\t\t\t\t\t\t\t\t//搜索特征\n\t\t\t\t\t\t\t\t\t\tuni.getBLEDeviceCharacteristics({\n\t\t\t\t\t\t\t\t\t\t\tdeviceId,\n\t\t\t\t\t\t\t\t\t\t\tserviceId: that.mainUUID,\n\t\t\t\t\t\t\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\t\t\t\t\t\t\tconsole.info('ios设备搜索特征成功', res)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t})\n\n\n\t\t},\n\t\tworkTypeChange(e) {\n\t\t\tconsole.log('工作模式改变')\n\t\t\tthis.workType = e.detail.value\n\n\t\t},\n\t\tsave() {\n\t\t\t//保存下发配置到粉丝计数器\n\t\t\tif (this.workType == 1) {\n\t\t\t\t//粉丝计数器模式\n\t\t\t\tif (this.wifiSSID != '' && this.wifiPWD != '' && this.bilibiliId != '') {\n\n\t\t\t\t} else {\n\t\t\t\t\tconsole.error('请将数据填写完整')\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t}\n\n\n\t\t}\n\n\n\n\t},\n\tcomputed: {\n\t\tbtnmessage() {\n\t\t\treturn this.btconnected ? '蓝牙连接中' : '保存'\n\t\t}\n\t}\n}\n","import mod from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./setting.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./setting.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}